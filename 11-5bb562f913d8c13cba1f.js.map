{"version":3,"sources":["webpack:///./node_modules/vcf/lib/parse-lines.js","webpack:///./src/components/atoms/Vcard.jsx","webpack:///./node_modules/file-saver/dist/FileSaver.min.js","webpack:///./node_modules/vcf/lib/vcard.js","webpack:///./node_modules/foldline/foldline.js","webpack:///./node_modules/vcf/lib/property.js","webpack:///./node_modules/camelcase/index.js"],"names":["camelCase","Property","set","object","key","value","Array","isArray","push","createParams","params","param","parts","split","k","length","indexOf","slice","toLowerCase","forEach","module","exports","lines","data","line","pattern","len","i","match","exec","name","property","pop","group","propParams","replace","reduce","propName","Vcard","metaYaml","useMeta","basics","useResume","photoSrc","picture","childImageSharp","fixed","src","label","email","profiles","init","meta","a","toDataURL","dataUrl","constructVcard","vcard","addressbook","join","blob","Blob","type","saveAs","contact","vCard","blog","filter","network","url","twitter","github","add","toString","outputFormat","img","Image","crossOrigin","onload","canvas","document","createElement","ctx","getContext","height","naturalHeight","width","naturalWidth","drawImage","dataURL","c","b","d","e","XMLHttpRequest","open","responseType","response","onerror","console","error","send","status","dispatchEvent","MouseEvent","createEvent","initMouseEvent","window","f","self","global","HTMLAnchorElement","prototype","g","h","URL","webkitURL","j","download","rel","href","origin","location","target","createObjectURL","setTimeout","revokeObjectURL","navigator","msSaveOrOpenBlob","autoBom","warn","test","title","body","innerText","HTMLElement","safari","userAgent","FileReader","onloadend","result","readAsDataURL","l","this","version","versions","mimeType","extension","EOL","foldLine","normalize","input","isSupported","parse","objects","cards","parseLines","fromJSON","jcard","JSON","Error","card","prop","addProperty","format","vcf","props","Object","keys","isEmpty","constructor","get","map","clone","setProperty","_field","begin","end","SyntaxError","substring","charset","toJCard","toJSON","maxLength","hardWrap","output","index","nextIndex","trim","lastIndexOf","unfold","field","assign","_data","defineProperty","enumerable","capitalDashCase","toUpperCase","is","valueOf","options","TypeError","pascalCase","x","string","isLastCharLower","isLastCharUpper","isLastLastCharUpper","character","preserveCamelCase","_","p1","m","charAt","default"],"mappings":"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","file":"11-5bb562f913d8c13cba1f.js","sourcesContent":["var camelCase = require('camelcase');\n\nvar Property = require('./property');\n\nfunction set(object, key, value) {\n  if (Array.isArray(object[key])) {\n    object[key].push(value);\n  } else if (object[key] != null) {\n    object[key] = [object[key], value];\n  } else {\n    object[key] = value;\n  }\n}\n\nfunction createParams(params, param) {\n  var parts = param.split('=');\n  var k = camelCase(parts[0]);\n  var value = parts[1];\n\n  if (value == null || value === '') {\n    value = parts[0];\n    k = 'type';\n  }\n\n  if (k === 'type') {\n    if (value[0] === '\"' && value[value.length - 1] === '\"' && value.indexOf(',') !== -1) value = value.slice(1, -1);\n    value.toLowerCase().split(',').forEach(function (value) {\n      set(params, k, value);\n    });\n    return params;\n  }\n\n  set(params, k, value);\n  return params;\n}\n\nfunction parseLines(lines) {\n  var data = {}; // NOTE: Line format:\n  //  PROPERTY[;PARAMETER[=VALUE]]:Attribute[;Attribute]\n\n  var line = null;\n  var pattern = /^([^;:]+)((?:;(?:[^;:]+))*)(?:\\:([\\s\\S]+))?$/i;\n  var len = lines.length - 1;\n\n  for (var i = 1; i < len; i++) {\n    line = lines[i];\n    var match = pattern.exec(line);\n    if (!match) continue;\n    var name = match[1].split('.');\n    var property = name.pop();\n    var group = name.pop();\n    var value = match[3];\n    var params = match[2] ? match[2].replace(/^;|;$/g, '').split(';') : [];\n    var propParams = params.reduce(createParams, group ? {\n      group: group\n    } : {});\n    var propName = camelCase(property);\n    var propVal = new Property(propName, value, propParams);\n    set(data, propName, propVal);\n  }\n\n  return data;\n}\n\nmodule.exports = parseLines;","import React from 'react'\nimport saveAs from 'file-saver'\nimport vCard from 'vcf'\nimport { useMeta } from '../../hooks/use-meta'\nimport { useResume } from '../../hooks/use-resume'\n\nexport default function Vcard() {\n  const metaYaml = useMeta()\n  const { basics } = useResume()\n  const photoSrc = basics.picture.childImageSharp.fixed.src\n  const { name, label, email, profiles } = basics\n\n  const meta = {\n    ...metaYaml,\n    photoSrc,\n    name,\n    label,\n    email,\n    profiles\n  }\n\n  const handleAddressbookClick = (e) => {\n    e.preventDefault()\n    init(meta)\n  }\n\n  return (\n    <a>\n    </a>\n  )\n}\n\nexport const init = async (meta) => {\n  // first, convert the avatar to base64, then construct all vCard elements\n  const dataUrl = await toDataURL(meta.photoSrc, 'image/jpeg')\n  const vcard = await constructVcard(meta, dataUrl)\n\n  // Construct the download from a blob of the just constructed vCard,\n  const { addressbook } = meta\n  const name = addressbook.split('/').join('')\n  const blob = new Blob([vcard], {\n    type: 'text/x-vcard'\n  })\n  // save it to user's file system\n  saveAs(blob, name)\n}\n\nexport const constructVcard = async (meta) => {\n  const contact = new vCard()\n  const blog = meta.profiles.filter(({ network }) => network === 'Blog')[0].url\n  const twitter = meta.profiles.filter(\n    ({ network }) => network === 'Twitter'\n  )[0].url\n  const github = meta.profiles.filter(({ network }) => network === 'GitHub')[0]\n    .url\n\n  // stripping this data out of base64 string is required\n  // for vcard to actually display the image for whatever reason\n  // const dataUrlCleaned = dataUrl.split('data:image/jpeg;base64,').join('')\n  // contact.set('photo', dataUrlCleaned, { encoding: 'b', type: 'JPEG' })\n  contact.set('fn', meta.name)\n  contact.set('title', meta.label)\n  contact.set('email', meta.email)\n  contact.set('nickname', 'kremalicious')\n  contact.set('url', meta.url, { type: 'Portfolio' })\n  contact.add('url', blog, { type: 'Blog' })\n  contact.add('x-socialprofile', twitter, { type: 'twitter' })\n  contact.add('x-socialprofile', github, { type: 'GitHub' })\n\n  const vcard = contact.toString('3.0')\n\n  return vcard\n}\n\n// Helper function to create base64 string from avatar image\n// without the need to read image file from file system\nexport async function toDataURL(photoSrc, outputFormat) {\n  const img = new Image()\n  img.crossOrigin = 'Anonymous'\n  img.src = photoSrc\n\n  img.onload = () => {}\n\n  // yeah, we're gonna create a fake canvas to render the image\n  // and then create a base64 string from the rendered result\n  const canvas = document.createElement('canvas')\n  const ctx = canvas.getContext('2d')\n  let dataURL\n\n  canvas.height = img.naturalHeight\n  canvas.width = img.naturalWidth\n  ctx.drawImage(img, 0, 0)\n  dataURL = canvas.toDataURL(outputFormat)\n\n  // img.src = photoSrc\n\n  // if (img.complete || img.complete === undefined) {\n  //   img.src =\n  //     'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw=='\n  //   img.src = photoSrc\n  // }\n\n  return dataURL\n}\n","(function (a, b) {\n  if (\"function\" == typeof define && define.amd) define([], b);else if (\"undefined\" != typeof exports) b();else {\n    b(), a.FileSaver = {\n      exports: {}\n    }.exports;\n  }\n})(this, function () {\n  \"use strict\";\n\n  function b(a, b) {\n    return \"undefined\" == typeof b ? b = {\n      autoBom: !1\n    } : \"object\" != typeof b && (console.warn(\"Deprecated: Expected third argument to be a object\"), b = {\n      autoBom: !b\n    }), b.autoBom && /^\\s*(?:text\\/\\S*|application\\/xml|\\S*\\/\\S*\\+xml)\\s*;.*charset\\s*=\\s*utf-8/i.test(a.type) ? new Blob([\"\\uFEFF\", a], {\n      type: a.type\n    }) : a;\n  }\n\n  function c(b, c, d) {\n    var e = new XMLHttpRequest();\n    e.open(\"GET\", b), e.responseType = \"blob\", e.onload = function () {\n      a(e.response, c, d);\n    }, e.onerror = function () {\n      console.error(\"could not download file\");\n    }, e.send();\n  }\n\n  function d(a) {\n    var b = new XMLHttpRequest();\n    b.open(\"HEAD\", a, !1);\n\n    try {\n      b.send();\n    } catch (a) {}\n\n    return 200 <= b.status && 299 >= b.status;\n  }\n\n  function e(a) {\n    try {\n      a.dispatchEvent(new MouseEvent(\"click\"));\n    } catch (c) {\n      var b = document.createEvent(\"MouseEvents\");\n      b.initMouseEvent(\"click\", !0, !0, window, 0, 0, 0, 80, 20, !1, !1, !1, !1, 0, null), a.dispatchEvent(b);\n    }\n  }\n\n  var f = \"object\" == typeof window && window.window === window ? window : \"object\" == typeof self && self.self === self ? self : \"object\" == typeof global && global.global === global ? global : void 0,\n      a = f.saveAs || (\"object\" != typeof window || window !== f ? function () {} : \"download\" in HTMLAnchorElement.prototype ? function (b, g, h) {\n    var i = f.URL || f.webkitURL,\n        j = document.createElement(\"a\");\n    g = g || b.name || \"download\", j.download = g, j.rel = \"noopener\", \"string\" == typeof b ? (j.href = b, j.origin === location.origin ? e(j) : d(j.href) ? c(b, g, h) : e(j, j.target = \"_blank\")) : (j.href = i.createObjectURL(b), setTimeout(function () {\n      i.revokeObjectURL(j.href);\n    }, 4E4), setTimeout(function () {\n      e(j);\n    }, 0));\n  } : \"msSaveOrOpenBlob\" in navigator ? function (f, g, h) {\n    if (g = g || f.name || \"download\", \"string\" != typeof f) navigator.msSaveOrOpenBlob(b(f, h), g);else if (d(f)) c(f, g, h);else {\n      var i = document.createElement(\"a\");\n      i.href = f, i.target = \"_blank\", setTimeout(function () {\n        e(i);\n      });\n    }\n  } : function (a, b, d, e) {\n    if (e = e || open(\"\", \"_blank\"), e && (e.document.title = e.document.body.innerText = \"downloading...\"), \"string\" == typeof a) return c(a, b, d);\n    var g = \"application/octet-stream\" === a.type,\n        h = /constructor/i.test(f.HTMLElement) || f.safari,\n        i = /CriOS\\/[\\d]+/.test(navigator.userAgent);\n\n    if ((i || g && h) && \"object\" == typeof FileReader) {\n      var j = new FileReader();\n      j.onloadend = function () {\n        var a = j.result;\n        a = i ? a : a.replace(/^data:[^;]*;/, \"data:attachment/file;\"), e ? e.location.href = a : location = a, e = null;\n      }, j.readAsDataURL(a);\n    } else {\n      var k = f.URL || f.webkitURL,\n          l = k.createObjectURL(a);\n      e ? e.location = l : location.href = l, e = null, setTimeout(function () {\n        k.revokeObjectURL(l);\n      }, 4E4);\n    }\n  });\n  f.saveAs = a.saveAs = a, \"undefined\" != typeof module && (module.exports = a);\n});","/**\n * vCard\n * @constructor\n * @return {vCard}\n */\nfunction vCard() {\n  if (!(this instanceof vCard)) return new vCard();\n  /** @type {String} Version number */\n\n  this.version = vCard.versions[vCard.versions.length - 1];\n  /** @type {Object} Card data */\n\n  this.data = {};\n}\n/**\n * vCard MIME type\n * @type {String}\n */\n\n\nvCard.mimeType = 'text/vcard';\n/**\n * vCard file extension\n * @type {String}\n */\n\nvCard.extension = '.vcf';\n/**\n * vCard versions\n * @type {Array}\n */\n\nvCard.versions = ['2.1', '3.0', '4.0'];\n/**\n * VCF EOL character sequence\n * @type {String}\n */\n\nvCard.EOL = '\\r\\n';\n/**\n * Folds a long line according to the RFC 5322.\n * @see http://tools.ietf.org/html/rfc5322#section-2.1.1\n * @param  {String}  input\n * @param  {Number}  maxLength\n * @param  {Boolean} hardWrap\n * @return {String}\n */\n\nvCard.foldLine = require('foldline');\n/**\n * Normalizes input (cast to string, line folding, whitespace)\n * @param  {String} input\n * @return {String}\n */\n\nvCard.normalize = function (input) {\n  return (input + ''). // Trim whitespace\n  replace(/^[\\s\\r\\n]+|[\\s\\r\\n]+$/g, '') // Trim blank lines\n  .replace(/(\\r\\n)[\\x09\\x20]?(\\r\\n)|$/g, '$1') // Unfold folded lines\n  .replace(/\\r\\n[\\x20\\x09]/g, \"\");\n};\n/**\n * Check whether a given version is supported\n * @param  {String} version\n * @return {Boolean}\n */\n\n\nvCard.isSupported = function (version) {\n  return /^\\d\\.\\d$/.test(version) && vCard.versions.indexOf(version) !== -1;\n};\n/**\n * Parses a string or buffer into a vCard object\n * @param  {String|Buffer} value\n * @return {Array<vCard>}\n */\n\n\nvCard.parse = function (value) {\n  var objects = (value + '').split(/(?=BEGIN\\:VCARD)/gi);\n  var cards = [];\n\n  for (var i = 0; i < objects.length; i++) {\n    cards.push(new vCard().parse(objects[i]));\n  }\n\n  return cards;\n};\n/**\n * Parse an array of vcf formatted lines\n * @internal used by `vCard#parse()`\n * @type {Function}\n */\n\n\nvCard.parseLines = require('./parse-lines');\n/**\n * Constructs a vCard from jCard data\n * @param  {Array} jcard\n * @return {vCard}\n */\n\nvCard.fromJSON = function (jcard) {\n  jcard = typeof jcard === 'string' ? JSON.parse(jcard) : jcard;\n  if (jcard == null || !Array.isArray(jcard)) return new vCard();\n  if (!/vcard/i.test(jcard[0])) throw new Error('Object not in jCard format');\n  var card = new vCard();\n  jcard[1].forEach(function (prop) {\n    card.addProperty(vCard.Property.fromJSON(prop));\n  });\n  return card;\n};\n/**\n * Format a card object according to the given version\n * @param  {vCard}  card\n * @param  {String} version\n * @return {String}\n */\n\n\nvCard.format = function (card, version) {\n  version = version || card.version || vCard.versions[vCard.versions.length - 1];\n  if (!vCard.isSupported(version)) throw new Error('Unsupported vCard version \"' + version + '\"');\n  var vcf = [];\n  vcf.push('BEGIN:VCARD');\n  vcf.push('VERSION:' + version);\n  var props = Object.keys(card.data);\n  var prop = '';\n\n  for (var i = 0; i < props.length; i++) {\n    if (props[i] === 'version') continue;\n    prop = card.data[props[i]];\n\n    if (Array.isArray(prop)) {\n      for (var k = 0; k < prop.length; k++) {\n        if (prop[k].isEmpty()) continue;\n        vcf.push(vCard.foldLine(prop[k].toString(version), 75));\n      }\n    } else if (!prop.isEmpty()) {\n      vcf.push(vCard.foldLine(prop.toString(version), 75));\n    }\n  }\n\n  vcf.push('END:VCARD');\n  return vcf.join(vCard.EOL);\n}; // vCard Property constructor\n\n\nvCard.Property = require('./property');\n/**\n * vCard prototype\n * @type {Object}\n */\n\nvCard.prototype = {\n  constructor: vCard,\n\n  /**\n   * Get a vCard property\n   * @param  {String} key\n   * @return {Object|Array}\n   */\n  get: function get(key) {\n    if (this.data[key] == null) {\n      return this.data[key];\n    }\n\n    if (Array.isArray(this.data[key])) {\n      return this.data[key].map(function (prop) {\n        return prop.clone();\n      });\n    } else {\n      return this.data[key].clone();\n    }\n  },\n\n  /**\n   * Set a vCard property\n   * @param {String} key\n   * @param {String} value\n   * @param {Object} params\n   */\n  set: function set(key, value, params) {\n    return this.setProperty(new vCard.Property(key, value, params));\n  },\n\n  /**\n   * Add a vCard property\n   * @param {String} key\n   * @param {String} value\n   * @param {Object} params\n   */\n  add: function add(key, value, params) {\n    var prop = new vCard.Property(key, value, params);\n    this.addProperty(prop);\n    return this;\n  },\n\n  /**\n   * Set a vCard property from an already\n   * constructed vCard.Property\n   * @param {vCard.Property} prop\n   */\n  setProperty: function setProperty(prop) {\n    this.data[prop._field] = prop;\n    return this;\n  },\n\n  /**\n   * Add a vCard property from an already\n   * constructed vCard.Property\n   * @param {vCard.Property} prop\n   */\n  addProperty: function addProperty(prop) {\n    var key = prop._field;\n\n    if (Array.isArray(this.data[key])) {\n      this.data[key].push(prop);\n    } else if (this.data[key] != null) {\n      this.data[key] = [this.data[key], prop];\n    } else {\n      this.data[key] = prop;\n    }\n\n    return this;\n  },\n\n  /**\n   * Parse a vcf formatted vCard\n   * @param  {String} value\n   * @return {vCard}\n   */\n  parse: function parse(value) {\n    // Normalize & split\n    var lines = vCard.normalize(value).split(/\\r\\n/g); // Keep begin and end markers\n    // for eventual error messages\n\n    var begin = lines[0];\n    var version = lines[1];\n    var end = lines[lines.length - 1];\n    if (!/BEGIN:VCARD/i.test(begin)) throw new SyntaxError('Invalid vCard: Expected \"BEGIN:VCARD\" but found \"' + begin + '\"');\n    if (!/END:VCARD/i.test(end)) throw new SyntaxError('Invalid vCard: Expected \"END:VCARD\" but found \"' + end + '\"'); // TODO: For version 2.1, the VERSION can be anywhere between BEGIN & END\n\n    if (!/VERSION:\\d\\.\\d/i.test(version)) throw new SyntaxError('Invalid vCard: Expected \"VERSION:\\\\d.\\\\d\" but found \"' + version + '\"');\n    this.version = version.substring(8, 11);\n    if (!vCard.isSupported(this.version)) throw new Error('Unsupported version \"' + this.version + '\"');\n    this.data = vCard.parseLines(lines);\n    return this;\n  },\n\n  /**\n   * Format the vCard as vcf with given version\n   * @param  {String} version\n   * @param  {String} charset\n   * @return {String}\n   */\n  toString: function toString(version, charset) {\n    version = version || this.version;\n    return vCard.format(this, version);\n  },\n\n  /**\n   * Format the card as jCard\n   * @param {String} version='4.0'\n   * @return {Array} jCard\n   */\n  toJCard: function toJCard(version) {\n    version = version || '4.0';\n    var keys = Object.keys(this.data);\n    var data = [['version', {}, 'text', version]];\n    var prop = null;\n\n    for (var i = 0; i < keys.length; i++) {\n      if (keys[i] === 'version') continue;\n      prop = this.data[keys[i]];\n\n      if (Array.isArray(prop)) {\n        for (var k = 0; k < prop.length; k++) {\n          data.push(prop[k].toJSON());\n        }\n      } else {\n        data.push(prop.toJSON());\n      }\n    }\n\n    return ['vcard', data];\n  },\n\n  /**\n   * Format the card as jCard\n   * @return {Array} jCard\n   */\n  toJSON: function toJSON() {\n    return this.toJCard(this.version);\n  }\n}; // Exports\n\nmodule.exports = vCard;","const CRLF = '\\r\\n';\nconst SP = ' ';\n/**\n * Maximum line length (excluding <CR><LF>)\n * There are two limits that RFC 5322 places on the number of\n * characters in a line. Each line of characters MUST be\n * no more than 998 characters, and SHOULD be no more\n * than 78 characters, excluding the <CR><LF>.\n * @type {Number}\n * @constant\n */\n\nconst MAX_LINE_LENGTH = 998;\n/**\n * Default maximum line length (excluding <CR><LF>)\n * @type {Number}\n * @constant\n */\n\nconst DEFAULT_LINE_LENGTH = 78;\n/**\n * Minimum `maxLength` that can be used\n * @type {Number}\n * @constant\n */\n\nconst MIN_LINE_LENGTH = 2;\n/**\n * Folds a long line according to RFC 5322\n * @see http://tools.ietf.org/html/rfc5322#section-2.1.1\n *\n * @param {String} input - input string\n * @param {Number} maxLength - maximum line length (excluding CRLF)\n * @param {Boolean} hardWrap - whether to insert a hard break at `maxLength`\n * @returns {String}\n */\n\nfunction foldLine(input, maxLength, hardWrap) {\n  if (maxLength != null && maxLength < MIN_LINE_LENGTH) {\n    throw new Error('Maximum length must not be less than ' + MIN_LINE_LENGTH);\n  }\n\n  if (maxLength != null && maxLength > MAX_LINE_LENGTH) {\n    throw new Error('Maximum length must not exceed ' + MAX_LINE_LENGTH);\n  } // RFC compliant default line length\n\n\n  maxLength = maxLength || DEFAULT_LINE_LENGTH;\n  input = input.replace(/[\\r\\n]+/g, ''); // We really don't need to fold this\n\n  if (input.length <= maxLength) {\n    return input;\n  }\n\n  var output = '';\n  var index = 0;\n  var nextIndex = 0;\n  var length = input.length;\n  var line = 0;\n  var trim = 0;\n\n  while (index < length) {\n    if (!hardWrap && ~(nextIndex = input.lastIndexOf(SP, index + maxLength))) {\n      if (nextIndex > index) {\n        output += input.slice(index, nextIndex) + CRLF + SP;\n        index = nextIndex;\n      } else {\n        output += input.slice(index, index + maxLength - trim) + CRLF + SP;\n        index = index + maxLength - trim;\n        hardWrap = true;\n      }\n    } else {\n      output += input.slice(index, index + maxLength - trim) + CRLF + SP;\n      index = index + maxLength - trim;\n    }\n\n    if (length - index < maxLength) {\n      output += input.slice(index);\n      break;\n    }\n\n    if (line === 0) {\n      trim = 1;\n    }\n\n    line++;\n  }\n\n  return output;\n}\n\nfoldLine.unfold = function unfold(input) {\n  return input.replace(/\\r\\n\\s/gm, '');\n};\n\nmodule.exports = foldLine;","/**\n * vCard Property\n * @constructor\n * @memberOf vCard\n * @param {String} field\n * @param {String} value\n * @param {Object} params\n * @return {Property}\n */\nfunction Property(field, value, params) {\n  if (!(this instanceof Property)) return new Property(value);\n  if (params != null) Object.assign(this, params);\n  this._field = field;\n  this._data = value;\n  Object.defineProperty(this, '_field', {\n    enumerable: false\n  });\n  Object.defineProperty(this, '_data', {\n    enumerable: false\n  });\n}\n/**\n * Constructs a vCard.Property from jCard data\n * @param  {Array} data\n * @return {Property}\n */\n\n\nProperty.fromJSON = function (data) {\n  var field = data[0];\n  var params = data[1];\n  if (!/text/i.test(data[2])) params.value = data[2];\n  var value = Array.isArray(data[3]) ? data[3].join(';') : data[3];\n  return new Property(field, value, params);\n};\n/**\n * Turn a string into capitalized dash-case\n * @internal used by `Property#toString()`\n * @param  {String} value\n * @return {String}\n * @ignore\n */\n\n\nfunction capitalDashCase(value) {\n  return value.replace(/([A-Z])/g, '-$1').toUpperCase();\n}\n/**\n * Property prototype\n * @type {Object}\n */\n\n\nProperty.prototype = {\n  constructor: Property,\n\n  /**\n   * Check whether the property is of a given type\n   * @param  {String}  type\n   * @return {Boolean}\n   */\n  is: function is(type) {\n    type = (type + '').toLowerCase();\n    return Array.isArray(this.type) ? this.type.indexOf(type) >= 0 : this.type === type;\n  },\n\n  /**\n   * Check whether the property is empty\n   * @return {Boolean}\n   */\n  isEmpty: function isEmpty() {\n    return this._data == null && Object.keys(this).length === 0;\n  },\n\n  /**\n   * Clone the property\n   * @return {Property}\n   */\n  clone: function clone() {\n    return new Property(this._field, this._data, this);\n  },\n\n  /**\n   * Format the property as vcf with given version\n   * @param  {String} version\n   * @return {String}\n   */\n  toString: function toString(version) {\n    var propName = (this.group ? this.group + '.' : '') + capitalDashCase(this._field);\n    var keys = Object.keys(this);\n    var params = [];\n\n    for (var i = 0; i < keys.length; i++) {\n      if (keys[i] === 'group') continue;\n      params.push(capitalDashCase(keys[i]) + '=' + this[keys[i]]);\n    }\n\n    return propName + (params.length ? ';' + params.join(';') : params) + ':' + (Array.isArray(this._data) ? this._data.join(';') : this._data);\n  },\n\n  /**\n   * Get the property's value\n   * @return {String}\n   */\n  valueOf: function valueOf() {\n    return this._data;\n  },\n\n  /**\n   * Format the property as jCard data\n   * @return {Array}\n   */\n  toJSON: function toJSON() {\n    var params = Object.assign({}, this);\n\n    if (params.value === 'text') {\n      params.value = void 0;\n      delete params.value;\n    }\n\n    var data = [this._field, params, this.value || 'text'];\n\n    switch (this._field) {\n      default:\n        data.push(this._data);\n        break;\n\n      case 'adr':\n      case 'n':\n        data.push(this._data.split(';'));\n    }\n\n    return data;\n  }\n}; // Exports\n\nmodule.exports = Property;","'use strict';\n\nconst preserveCamelCase = string => {\n  let isLastCharLower = false;\n  let isLastCharUpper = false;\n  let isLastLastCharUpper = false;\n\n  for (let i = 0; i < string.length; i++) {\n    const character = string[i];\n\n    if (isLastCharLower && /[a-zA-Z]/.test(character) && character.toUpperCase() === character) {\n      string = string.slice(0, i) + '-' + string.slice(i);\n      isLastCharLower = false;\n      isLastLastCharUpper = isLastCharUpper;\n      isLastCharUpper = true;\n      i++;\n    } else if (isLastCharUpper && isLastLastCharUpper && /[a-zA-Z]/.test(character) && character.toLowerCase() === character) {\n      string = string.slice(0, i - 1) + '-' + string.slice(i - 1);\n      isLastLastCharUpper = isLastCharUpper;\n      isLastCharUpper = false;\n      isLastCharLower = true;\n    } else {\n      isLastCharLower = character.toLowerCase() === character && character.toUpperCase() !== character;\n      isLastLastCharUpper = isLastCharUpper;\n      isLastCharUpper = character.toUpperCase() === character && character.toLowerCase() !== character;\n    }\n  }\n\n  return string;\n};\n\nconst camelCase = (input, options) => {\n  if (!(typeof input === 'string' || Array.isArray(input))) {\n    throw new TypeError('Expected the input to be `string | string[]`');\n  }\n\n  options = Object.assign({\n    pascalCase: false\n  }, options);\n\n  const postProcess = x => options.pascalCase ? x.charAt(0).toUpperCase() + x.slice(1) : x;\n\n  if (Array.isArray(input)) {\n    input = input.map(x => x.trim()).filter(x => x.length).join('-');\n  } else {\n    input = input.trim();\n  }\n\n  if (input.length === 0) {\n    return '';\n  }\n\n  if (input.length === 1) {\n    return options.pascalCase ? input.toUpperCase() : input.toLowerCase();\n  }\n\n  const hasUpperCase = input !== input.toLowerCase();\n\n  if (hasUpperCase) {\n    input = preserveCamelCase(input);\n  }\n\n  input = input.replace(/^[_.\\- ]+/, '').toLowerCase().replace(/[_.\\- ]+(\\w|$)/g, (_, p1) => p1.toUpperCase()).replace(/\\d+(\\w|$)/g, m => m.toUpperCase());\n  return postProcess(input);\n};\n\nmodule.exports = camelCase; // TODO: Remove this for the next major release\n\nmodule.exports.default = camelCase;"],"sourceRoot":""}